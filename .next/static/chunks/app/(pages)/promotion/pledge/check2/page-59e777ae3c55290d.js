(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[564],{352:function(e,t,n){var r,s=function(){var e=String.fromCharCode,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",r={};function s(e,t){if(!r[e]){r[e]={};for(var n=0;n<e.length;n++)r[e][e.charAt(n)]=n}return r[e][t]}var o={compressToBase64:function(e){if(null==e)return"";var n=o._compress(e,6,function(e){return t.charAt(e)});switch(n.length%4){default:case 0:return n;case 1:return n+"===";case 2:return n+"==";case 3:return n+"="}},decompressFromBase64:function(e){return null==e?"":""==e?null:o._decompress(e.length,32,function(n){return s(t,e.charAt(n))})},compressToUTF16:function(t){return null==t?"":o._compress(t,15,function(t){return e(t+32)})+" "},decompressFromUTF16:function(e){return null==e?"":""==e?null:o._decompress(e.length,16384,function(t){return e.charCodeAt(t)-32})},compressToUint8Array:function(e){for(var t=o.compress(e),n=new Uint8Array(2*t.length),r=0,s=t.length;r<s;r++){var i=t.charCodeAt(r);n[2*r]=i>>>8,n[2*r+1]=i%256}return n},decompressFromUint8Array:function(t){if(null==t)return o.decompress(t);for(var n=Array(t.length/2),r=0,s=n.length;r<s;r++)n[r]=256*t[2*r]+t[2*r+1];var i=[];return n.forEach(function(t){i.push(e(t))}),o.decompress(i.join(""))},compressToEncodedURIComponent:function(e){return null==e?"":o._compress(e,6,function(e){return n.charAt(e)})},decompressFromEncodedURIComponent:function(e){return null==e?"":""==e?null:(e=e.replace(/ /g,"+"),o._decompress(e.length,32,function(t){return s(n,e.charAt(t))}))},compress:function(t){return o._compress(t,16,function(t){return e(t)})},_compress:function(e,t,n){if(null==e)return"";var r,s,o,i={},a={},c="",l="",u="",d=2,f=3,m=2,h=[],p=0,x=0;for(o=0;o<e.length;o+=1)if(c=e.charAt(o),Object.prototype.hasOwnProperty.call(i,c)||(i[c]=f++,a[c]=!0),l=u+c,Object.prototype.hasOwnProperty.call(i,l))u=l;else{if(Object.prototype.hasOwnProperty.call(a,u)){if(256>u.charCodeAt(0)){for(r=0;r<m;r++)p<<=1,x==t-1?(x=0,h.push(n(p)),p=0):x++;for(r=0,s=u.charCodeAt(0);r<8;r++)p=p<<1|1&s,x==t-1?(x=0,h.push(n(p)),p=0):x++,s>>=1}else{for(r=0,s=1;r<m;r++)p=p<<1|s,x==t-1?(x=0,h.push(n(p)),p=0):x++,s=0;for(r=0,s=u.charCodeAt(0);r<16;r++)p=p<<1|1&s,x==t-1?(x=0,h.push(n(p)),p=0):x++,s>>=1}0==--d&&(d=Math.pow(2,m),m++),delete a[u]}else for(r=0,s=i[u];r<m;r++)p=p<<1|1&s,x==t-1?(x=0,h.push(n(p)),p=0):x++,s>>=1;0==--d&&(d=Math.pow(2,m),m++),i[l]=f++,u=String(c)}if(""!==u){if(Object.prototype.hasOwnProperty.call(a,u)){if(256>u.charCodeAt(0)){for(r=0;r<m;r++)p<<=1,x==t-1?(x=0,h.push(n(p)),p=0):x++;for(r=0,s=u.charCodeAt(0);r<8;r++)p=p<<1|1&s,x==t-1?(x=0,h.push(n(p)),p=0):x++,s>>=1}else{for(r=0,s=1;r<m;r++)p=p<<1|s,x==t-1?(x=0,h.push(n(p)),p=0):x++,s=0;for(r=0,s=u.charCodeAt(0);r<16;r++)p=p<<1|1&s,x==t-1?(x=0,h.push(n(p)),p=0):x++,s>>=1}0==--d&&(d=Math.pow(2,m),m++),delete a[u]}else for(r=0,s=i[u];r<m;r++)p=p<<1|1&s,x==t-1?(x=0,h.push(n(p)),p=0):x++,s>>=1;0==--d&&(d=Math.pow(2,m),m++)}for(r=0,s=2;r<m;r++)p=p<<1|1&s,x==t-1?(x=0,h.push(n(p)),p=0):x++,s>>=1;for(;;){if(p<<=1,x==t-1){h.push(n(p));break}x++}return h.join("")},decompress:function(e){return null==e?"":""==e?null:o._decompress(e.length,32768,function(t){return e.charCodeAt(t)})},_decompress:function(t,n,r){var s,o,i,a,c,l,u,d=[],f=4,m=4,h=3,p="",x=[],w={val:r(0),position:n,index:1};for(s=0;s<3;s+=1)d[s]=s;for(i=0,c=4,l=1;l!=c;)a=w.val&w.position,w.position>>=1,0==w.position&&(w.position=n,w.val=r(w.index++)),i|=(a>0?1:0)*l,l<<=1;switch(i){case 0:for(i=0,c=256,l=1;l!=c;)a=w.val&w.position,w.position>>=1,0==w.position&&(w.position=n,w.val=r(w.index++)),i|=(a>0?1:0)*l,l<<=1;u=e(i);break;case 1:for(i=0,c=65536,l=1;l!=c;)a=w.val&w.position,w.position>>=1,0==w.position&&(w.position=n,w.val=r(w.index++)),i|=(a>0?1:0)*l,l<<=1;u=e(i);break;case 2:return""}for(d[3]=u,o=u,x.push(u);;){if(w.index>t)return"";for(i=0,c=Math.pow(2,h),l=1;l!=c;)a=w.val&w.position,w.position>>=1,0==w.position&&(w.position=n,w.val=r(w.index++)),i|=(a>0?1:0)*l,l<<=1;switch(u=i){case 0:for(i=0,c=256,l=1;l!=c;)a=w.val&w.position,w.position>>=1,0==w.position&&(w.position=n,w.val=r(w.index++)),i|=(a>0?1:0)*l,l<<=1;d[m++]=e(i),u=m-1,f--;break;case 1:for(i=0,c=65536,l=1;l!=c;)a=w.val&w.position,w.position>>=1,0==w.position&&(w.position=n,w.val=r(w.index++)),i|=(a>0?1:0)*l,l<<=1;d[m++]=e(i),u=m-1,f--;break;case 2:return x.join("")}if(0==f&&(f=Math.pow(2,h),h++),d[u])p=d[u];else{if(u!==m)return null;p=o+o.charAt(0)}x.push(p),d[m++]=o+p.charAt(0),f--,o=p,0==f&&(f=Math.pow(2,h),h++)}}};return o}();void 0!==(r=(function(){return s}).call(t,n,t,e))&&(e.exports=r)},9043:function(e,t,n){Promise.resolve().then(n.bind(n,7371)),Promise.resolve().then(n.bind(n,3578))},6114:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var r=n(7437),s=n(6691),o=n.n(s),i=n(4033),a=n(2265);function c(e){let{link:t,time:n=2600}=e,s=(0,i.useRouter)();return(0,a.useEffect)(()=>{if(t){let e=setTimeout(()=>{s.push(t)},n);return()=>clearTimeout(e)}},[t]),(0,r.jsxs)("section",{children:[(0,r.jsx)("div",{className:"animate-[logo1_4s_ease-in-out] absolute left-[50%] top-[50%] translate-x-[-220%] text-[#F9E9B3]",children:(0,r.jsx)(o(),{src:"/logo1.webp",alt:"육",width:30,height:30})}),(0,r.jsx)("div",{className:"animate-[logo2_4s_ease-in-out] absolute left-[50%] top-[50%] translate-x-[-110%] text-[#F9E9B3]",children:(0,r.jsx)(o(),{src:"/logo1.webp",alt:"아",width:30,height:30})}),(0,r.jsx)("div",{className:"animate-[logo3_4s_ease-in-out] absolute left-[50%] top-[50%] translate-x-[-0%] text-[#FFD3D0]",children:(0,r.jsx)(o(),{src:"/logo3.webp",alt:"응",width:30,height:30})}),(0,r.jsx)("div",{className:"animate-[logo4_4s_ease-in-out] absolute left-[50%] top-[50%] translate-x-[110%] text-[#F25D24]",children:(0,r.jsx)(o(),{src:"/logo4.webp",alt:"원",width:30,height:30})}),(0,r.jsx)("div",{className:"animate-[logo5_4s_ease-in-out] absolute left-[50%] top-[50%] translate-x-[-10%] translate-y-[-100%] ",children:(0,r.jsx)(o(),{src:"/logo3_1.webp",alt:"|||",width:38,height:17.5})})]})}},7371:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return m}});var r=n(7437),s=n(4605),o=n(5883),i=n(4033),a=n(2265),c=n(9640),l=n(5131);async function u(e){let{data:t,error:n}=await l.O.from("pages").insert(e).select("id");return n?{data:null,error:n}:t[0].id}var d=n(1945),f=n(3558);function m(e){let{survey2:t}=e,n=(0,i.useRouter)(),[l,m]=(0,o.FV)(s.D1),h=(0,o.sJ)(s.Zk),[p,x]=(0,a.useState)(""),[w,v]=(0,a.useState)(!1),[g,b]=(0,a.useState)(0);(0,a.useEffect)(()=>{x(window.location.search.substring(1))},[]),(0,a.useEffect)(()=>{p&&m((0,c.Z)(p))},[p]);let j=e=>{let t=h.filter(t=>t.s_id===e.id)[0];if(t)return e.choiceAnswer.filter(e=>e.answer_id===t.c_id)[0].answer_value},y=e=>{let t=h.filter(t=>t.s_id===e)[0];if(t&&t.sv)return t.sv},N=async()=>{if(l[6].sv&&l[7].sv){let e={user1_name:l[6].sv,user1_gender:l[6].c_id,baby_name:l[7].sv,user1_data:JSON.stringify(l),user2_data:JSON.stringify(h)};await u(e).then(e=>{e&&(b(e),v(!0))})}};return(0,r.jsxs)("div",{className:"w-full h-[100dvh]",children:[(0,r.jsx)("div",{className:"pt-[8rem]",children:(0,r.jsx)("div",{className:"overflow-y-auto max-h-calcResultPage pb-[10rem]",children:t.map(e=>(0,r.jsx)("div",{className:"text-[5rem] mx-[3.5rem] mb-[3rem] px-[3rem] py-[2rem] border rounded-2xl",children:(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"text-[2.1rem] leading-[2.8rem] font-bold text-center",children:["step ",e.id]}),(0,r.jsxs)("div",{className:"my-[1.8rem]",children:[(0,r.jsxs)("div",{className:"text-[1.8rem] leading-[2.6rem] text-[#999]",children:["Q. ",e.choiceQuestion]}),(0,r.jsxs)("div",{className:"w-full flex text-[2.1rem] leading-[2.8rem] font-bold py-[1.5rem] mt-[1.2rem] rounded-[2rem] bg-white justify-start",children:[(0,r.jsx)("span",{className:"w-[4rem] min-w-[4rem] h-[4rem] rounded-[2rem] flex justify-center items-center bg-[#FFD3D0] text-white",children:"A"}),(0,r.jsx)("span",{className:"block ml-[1rem] mt-[0.4rem]",children:j(e)})]})]}),"mix"===e.type&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"w-full h-[0.1rem] bg-[#ccc] my-[2rem] "}),(0,r.jsxs)("div",{className:"text-[1.8rem] leading-[2.6rem] text-[#999]",children:["Q. ",e.subjectQuestion]}),(0,r.jsxs)("div",{className:"w-full flex text-[2.1rem] leading-[2.8rem] font-bold py-[1.5rem] mt-[1.2rem] rounded-[2rem] bg-white justify-start",children:[(0,r.jsx)("span",{className:"w-[4rem] min-w-[4rem] h-[4rem] rounded-[2rem] flex justify-center items-center bg-[#FFD3D0] text-white",children:"A"}),(0,r.jsx)("span",{className:"block ml-[1rem] mt-[0.4rem]",children:h&&y(e.id)})]})]})]})},e.id+e.choiceQuestion))})}),(0,r.jsxs)("div",{className:"absolute bottom-0 flex",children:[(0,r.jsx)("button",{className:"w-[26rem] max-w-[518px] h-[8rem] text-[2.4rem] bg-[#cccccc]",onClick:()=>{window.confirm("확인을 누를 경우 처음부터 다시 진행해야 합니다.\n처음으로 돌아가시겠습니까?")&&n.push("/promotion/pledge/form2/first?".concat(p))},children:"다시 하기"}),(0,r.jsx)("button",{className:"w-[26rem] max-w-[518px] h-[8rem] text-[2.4rem] bg-[#F9E9B3]",onClick:N,children:"서약서 생성"})]}),(0,r.jsx)(d.Z,{toggle:w,handleToggle:()=>v(e=>!e),children:(0,r.jsx)(f.Z,{url:"/promotion/pledge/result2/".concat(g,"/share")})})]})}},1945:function(e,t,n){"use strict";var r=n(7437),s=n(2265);n(4887);var o=n(4033);t.Z=e=>{let{toggle:t,handleToggle:n,children:i}=e,a=(0,o.useRouter)(),c=(0,s.useRef)(!1);return(0,s.useEffect)(()=>{if(c.current=!1,t){var e;null===(e=document.getElementById("main"))||void 0===e||e.classList.add("scroll_lock"),window.onpopstate=()=>(c.current=!0,n(),()=>{var e;null===(e=document.getElementById("main"))||void 0===e||e.classList.remove("scroll_lock"),a.back()})}},[t]),(0,r.jsx)(r.Fragment,{children:t&&(0,r.jsxs)("div",{className:"fixed z-50 top-0 left-0 w-full h-[100dvh]",children:[(0,r.jsx)("div",{className:"w-full h-[100dvh] bg-black opacity-70 transition-all animate-[fadeIn_0.2s_ease-in-out]",onClick:()=>n()}),(0,r.jsx)("div",{className:"w-[100vw] max-w-[52rem] bg-white absolute bottom-0 left-[50%] translate-x-[-50%] rounded-t-[3rem] animate-[moveTop_0.3s_ease-in]",children:i})]})})}},3578:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var r=n(7437),s=n(4605),o=n(6691),i=n.n(o),a=n(4033),c=n(2265),l=n(5883);function u(e){let{title:t}=e,n=(0,a.useRouter)(),o=(0,a.usePathname)(),[u,d]=(0,l.FV)(s.$0),[f,m]=(0,l.FV)(s.tu);(0,l.Zl)(s.D1),(0,l.Zl)(s.Zk);let[h,p]=(0,c.useState)("");return(0,c.useEffect)(()=>{p(window.location.search.substring(1))},[]),(0,r.jsxs)("header",{className:"w-full flex justify-between p-4 absolute top-0 left-0 z-50 bg-white",children:[(0,r.jsx)("div",{onClick:()=>{if(-1!==o.indexOf("/agree"))return d(2),n.back();if(h&&-1!==o.indexOf("check")){if(!window.confirm("확인을 누를 경우 처음부터 다시 진행해야 합니다.\n처음으로 돌아가시겠습니까?"))return;n.push("/promotion/pledge/form2/first?".concat(h))}else if(!h&&-1!==o.indexOf("check")){if(!window.confirm("확인을 누를 경우 처음부터 다시 진행해야 합니다.\n처음으로 돌아가시겠습니까?"))return;n.push("/promotion/pledge/form/first")}u>0?d(u-1):(m(0),n.back())},className:"px-[1.8rem] py-[1.6rem]",children:(0,r.jsx)(i(),{src:"/back.webp",alt:"뒤로가기",width:27,height:15,className:"w-[2.7rem] h-[1.5rem]"})}),(0,r.jsx)("h1",{className:"text-[2.1rem] flex items-center font-bold",children:t}),(0,r.jsx)("div",{className:"w-[6.3rem]"})]})}},3558:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(7437),s=n(6114);function o(e){let{url:t=""}=e;return(0,r.jsx)("div",{className:"fixed z-[100] top-[-100dvh] left-[50%] translate-x-[-50%] w-full max-w-[52rem] h-[100dvh]",children:(0,r.jsxs)("div",{className:"fixed top-0 left-[50%] translate-x-[-50%] w-full max-w-[52rem] h-[100dvh] flex flex-col items-center justify-center",children:[(0,r.jsx)("div",{className:"mb-[20rem] text-[2rem] text-white",children:"서약서 생성중..."}),(0,r.jsx)(s.default,{link:t,time:1600})]})})}},4605:function(e,t,n){"use strict";n.d(t,{$0:function(){return s},$R:function(){return c},D1:function(){return i},EE:function(){return l},H1:function(){return f},J3:function(){return p},M7:function(){return w},MU:function(){return d},W4:function(){return u},Zk:function(){return a},gy:function(){return h},nQ:function(){return m},tu:function(){return o},uC:function(){return x}});var r=n(5883);let s=(0,r.cn)({key:"infoStepState",default:0}),o=(0,r.cn)({key:"formStepState",default:0}),i=(0,r.cn)({key:"AnswerUser1State",default:[]}),a=(0,r.cn)({key:"AnswerUser2State",default:[]});(0,r.cn)({key:"OpenModalState",default:!1});let c=(0,r.cn)({key:"OpenToastState",default:!1}),l=(0,r.cn)({key:"CapturedCardState",default:""}),u=(0,r.cn)({key:"CapturedDocumentState",default:""}),d=(0,r.cn)({key:"AnswerMood1State",default:""}),f=(0,r.cn)({key:"AnswerMood2State",default:""}),m=(0,r.cn)({key:"AnswerUser1MoodState",default:""}),h=(0,r.cn)({key:"AnswerUser2MoodState",default:""}),p=(0,r.cn)({key:"AnswerUser1NameState",default:{gender:"",name:""}}),x=(0,r.cn)({key:"AnswerUser2NameState",default:{gender:"",name:""}}),w=(0,r.cn)({key:"AnswerBabyNameState",default:{gender:"",name:""}})},9640:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(352),s=n.n(r);function o(e){return JSON.parse(s().decompressFromEncodedURIComponent(e))}},5131:function(e,t,n){"use strict";n.d(t,{O:function(){return r}});let r=(0,n(577).eI)("https://uvifmdoqwukwlxuhybjx.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InV2aWZtZG9xd3Vrd2x4dWh5Ymp4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MDI2OTI3NjIsImV4cCI6MjAxODI2ODc2Mn0.DZdEQB5uEuriKnIBlQup6JODBOeiiHnP_BENUA7OFO8")}},function(e){e.O(0,[691,176,742,971,938,744],function(){return e(e.s=9043)}),_N_E=e.O()}]);