(()=>{var e={};e.id=528,e.ids=[528],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3292:e=>{"use strict";e.exports=require("fs/promises")},1017:e=>{"use strict";e.exports=require("path")},7310:e=>{"use strict";e.exports=require("url")},704:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>c,routeModule:()=>h,tree:()=>d});var s=r(482),o=r(9108),i=r(2563),n=r.n(i),a=r(8300),l={};for(let e in a)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>a[e]);r.d(t,l);let d=["",{children:["(pages)",{children:["promotion",{children:["pledge",{children:["form",{children:["first",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,218)),"/Users/ochihyo/workspace/oooo-production/src/app/(pages)/promotion/pledge/form/first/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,694)),"/Users/ochihyo/workspace/oooo-production/src/app/(pages)/promotion/pledge/form/layout.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,6722)),"/Users/ochihyo/workspace/oooo-production/src/app/(pages)/promotion/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,3992)),"/Users/ochihyo/workspace/oooo-production/src/app/(pages)/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9361,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{"not-found":[()=>Promise.resolve().then(r.t.bind(r,9361,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/Users/ochihyo/workspace/oooo-production/src/app/(pages)/promotion/pledge/form/first/page.tsx"],u="/(pages)/promotion/pledge/form/first/page",p={require:r,loadChunk:()=>Promise.resolve()},h=new s.AppPageRouteModule({definition:{kind:o.x.APP_PAGE,page:"/(pages)/promotion/pledge/form/first/page",pathname:"/promotion/pledge/form/first",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},8963:(e,t,r)=>{Promise.resolve().then(r.bind(r,9535))},9535:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>v});var s=r(2295),o=r(2795),i=r(2171),n=r(304),a=r(5617),l=r(6305),d=r(6561),c=r(3418),u=r(3729),p=r(8020),h=r(1247),m=r(2254);function x(e=""){let t="";return e?/^[가-힣\s/g]+$/.test(e)?((e.length<1||e.length>6)&&(t="1글자 이상 6글자 이하로 입력해주세요."),t):t="한글만 입력 가능합니다.":t="이름을 입력해주세요."}let f={s_id:0,c_id:0,sv:""};function v(e){let t=(0,m.useRouter)(),r=(0,u.useRef)(null),{width:v,height:g}=(0,h.Z)(),[_,w]=(0,d.FV)(c.tu),[y,b]=(0,d.FV)(c.D1),[j,P]=(0,u.useState)(f),[q,k]=(0,u.useState)(0),[E,Z]=(0,u.useState)("");(0,u.useEffect)(()=>{E?.indexOf("reset=false")},[E]),(0,u.useEffect)(()=>{Z(window.location.search.substring(1)),w(0)},[]),(0,u.useEffect)(()=>{let e=v&&v<=520?`${100*_}vw`:`${520*_}px`;r.current&&(r.current.style.transform=`translateX(-${e})`);let t=y.filter(e=>e.s_id===_+1);t[0]?.sv?(P(t[0]),k(t[0].c_id)):t[0]?k(t[0].c_id):k(0)},[_]);let G=e=>{e.length>6||P({...j,sv:e})},U=()=>{if(_>5&&!j.c_id)return alert("성별을 선택해주세요.");if(_>5&&!j.sv)return alert("이름을 입력해주세요.");if(x(j.sv))return alert(x(j.sv));if(y[_]){let r=y.filter(e=>e.s_id!==_+1);return r.push({s_id:j.s_id,c_id:j.c_id,sv:j.sv}),b(r),P(r[0]),setTimeout(()=>{if(_===e.survey.length-1)return t.push("/promotion/pledge/check");w(_+1),P(f)},0)}if(b([...y,j]),P(f),_===e.survey.length-1)return t.push("/promotion/pledge/check");w(_+1)},A=({s_id:e,c_id:t,type:r,sv:s=""})=>{if(y[_]&&"choice"===r){let r=y.filter(e=>e.s_id!==_+1);return r.push({s_id:e,c_id:t,sv:s}),b(r),k(t),setTimeout(()=>{w(_+1)},100)}"mix"===r?P({...j,s_id:e,c_id:t}):$({s_id:e,c_id:t,sv:s})},$=({s_id:e,c_id:t,sv:r=""})=>{b([...y,{s_id:e,c_id:t,sv:r}]),k(t),setTimeout(()=>{w(_+1)},100)};return s.jsx("div",{className:`flex max-[520px]:w-[${100*e.survey.length}vw] h-[100dvh] absolute left-0 top-0 transition-all`,ref:r,children:e.survey.map(e=>(0,s.jsxs)("div",{className:"max-[520px]:w-[100vw] min-[521px]: w-[520px]",children:[s.jsx(l.Z,{number:e.id}),s.jsx(o.Z,{label:e.choiceQuestion}),s.jsx(i.Z,{grid:e.grid,width:v,height:g,children:e.choiceAnswer.map(t=>s.jsx("div",{children:s.jsx(n.Z,{id:t.answer_id,status:"mix"===e.type?j.c_id===t.answer_id:q===t.answer_id,label:t.answer_value,onClick:()=>A({s_id:e.id,c_id:t.answer_id,type:e.type})})},t.answer_id+t.answer_value))}),"mix"===e.type&&e.subjectQuestion&&(0,s.jsxs)(s.Fragment,{children:[s.jsx(a.Z,{question:e.subjectQuestion,useResetButton:!0,mixData:j,handleMixData:e=>G(e)}),s.jsx(p.default,{label:"다음 단계",status:!0,onClick:()=>U()})]})]},e.id+e.choiceQuestion))})}},218:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d});var s=r(5036);let o=(0,r(6843).createProxy)(String.raw`/Users/ochihyo/workspace/oooo-production/src/components/FormLayout.tsx`),{__esModule:i,$$typeof:n}=o,a=o.default;var l=r(3190);async function d(){let e=await (0,l.r)(1);return s.jsx("div",{className:"overflow-x-hidden w-full relative h-[100dvh] bg-[url('/bg.webp')] bg-no-repeat bg-contain",children:s.jsx(a,{survey:e.survey})})}},694:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n,metadata:()=>i});var s=r(5036),o=r(5995);let i={};function n({children:e}){return s.jsx("div",{className:"relative h-[99dvh]",children:(0,s.jsxs)("div",{children:[s.jsx(o.ZP,{title:""}),e]})})}}};var t=require("../../../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[638,356,803,604,949],()=>r(704));module.exports=s})();