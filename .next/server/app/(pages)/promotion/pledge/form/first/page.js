(()=>{var e={};e.id=528,e.ids=[528],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1017:e=>{"use strict";e.exports=require("path")},7310:e=>{"use strict";e.exports=require("url")},704:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>c});var s=r(482),i=r(9108),o=r(2563),n=r.n(o),a=r(8300),l={};for(let e in a)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>a[e]);r.d(t,l);let c=["",{children:["(pages)",{children:["promotion",{children:["pledge",{children:["form",{children:["first",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,218)),"/Users/ochihyo/workspace/oooo-production/src/app/(pages)/promotion/pledge/form/first/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,694)),"/Users/ochihyo/workspace/oooo-production/src/app/(pages)/promotion/pledge/form/layout.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,6722)),"/Users/ochihyo/workspace/oooo-production/src/app/(pages)/promotion/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,3992)),"/Users/ochihyo/workspace/oooo-production/src/app/(pages)/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9361,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{"not-found":[()=>Promise.resolve().then(r.t.bind(r,9361,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["/Users/ochihyo/workspace/oooo-production/src/app/(pages)/promotion/pledge/form/first/page.tsx"],u="/(pages)/promotion/pledge/form/first/page",p={require:r,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/(pages)/promotion/pledge/form/first/page",pathname:"/promotion/pledge/form/first",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},8963:(e,t,r)=>{Promise.resolve().then(r.bind(r,9535))},304:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var s=r(2295),i=r(1223),o=r.n(i);function n({id:e,status:t=!1,label:r,onClick:i}){return(0,s.jsxs)("button",{className:`w-full border flex items-stretch gap-5 px-7 py-[2.9rem] border-solid transition-all
      ${t?"bg-red-100 rounded-[3rem] border-solid border-red-300 shadow-md shadow-[#b6b6b6]":"bg-neutral-100"}
    `,onClick:i,children:[s.jsx(o(),{loading:"lazy",src:`${t?"/check_on.webp":"/check_off.webp"}`,alt:"checkbox",className:"aspect-square object-contain object-center w-[3rem] fill-stone-300 overflow-hidden shrink-0 max-w-full",width:30,height:30}),s.jsx("div",{className:"text-neutral-600 text-[2.1rem] leading-[2.4rem] self-center my-auto",children:r})]})}},9535:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>v});var s=r(2295),i=r(2795),o=r(2171),n=r(304),a=r(5617),l=r(6305),c=r(6561),d=r(3418),u=r(3729),p=r(8020),m=r(1247),h=r(2254);function x(e=""){let t="";return e?/^[가-힣\s/g]+$/.test(e)?((e.length<1||e.length>6)&&(t="1글자 이상 6글자 이하로 입력해주세요."),t):t="한글만 입력 가능합니다.":t="이름을 입력해주세요."}let f={s_id:0,c_id:0,sv:""};function v(e){let t=(0,h.useRouter)(),r=(0,u.useRef)(null),{width:v,height:g}=(0,m.Z)(),[b,w]=(0,c.FV)(d.tu),[_,j]=(0,c.FV)(d.D1),[y,P]=(0,u.useState)(f),[k,N]=(0,u.useState)(0),[q,Z]=(0,u.useState)("");(0,u.useEffect)(()=>{q?.indexOf("reset=false")},[q]),(0,u.useEffect)(()=>{Z(window.location.search.substring(1)),w(0)},[]),(0,u.useEffect)(()=>{let e=v&&v<=520?`${100*b}vw`:`${520*b}px`;r.current&&(r.current.style.transform=`translateX(-${e})`);let t=_.filter(e=>e.s_id===b+1);t[0]?.sv?(P(t[0]),N(t[0].c_id)):t[0]?N(t[0].c_id):N(0)},[b]);let E=e=>{e.length>6||P({...y,sv:e})},$=()=>{if(b>5&&!y.c_id)return alert("성별을 선택해주세요.");if(b>5&&!y.sv)return alert("이름을 입력해주세요.");if(x(y.sv))return alert(x(y.sv));if(_[b]){let r=_.filter(e=>e.s_id!==b+1);return r.push({s_id:y.s_id,c_id:y.c_id,sv:y.sv}),j(r),P(r[0]),setTimeout(()=>{if(b===e.survey.length-1)return t.push("/promotion/pledge/check");w(b+1),P(f)},0)}if(j([..._,y]),P(f),b===e.survey.length-1)return t.push("/promotion/pledge/check");w(b+1)},S=({s_id:e,c_id:t,type:r,sv:s=""})=>{if(_[b]&&"choice"===r){let r=_.filter(e=>e.s_id!==b+1);return r.push({s_id:e,c_id:t,sv:s}),j(r),N(t),setTimeout(()=>{w(b+1)},100)}"mix"===r?P({...y,s_id:e,c_id:t}):C({s_id:e,c_id:t,sv:s})},C=({s_id:e,c_id:t,sv:r=""})=>{j([..._,{s_id:e,c_id:t,sv:r}]),N(t),setTimeout(()=>{w(b+1)},100)};return s.jsx("div",{className:`flex max-[520px]:w-[${100*e.survey.length}vw] h-[100dvh] absolute left-0 top-0 transition-all`,ref:r,children:e.survey.map(e=>(0,s.jsxs)("div",{className:"max-[520px]:w-[100vw] min-[521px]: w-[520px]",children:[s.jsx(l.Z,{number:e.id}),s.jsx(i.Z,{label:e.choiceQuestion}),s.jsx(o.Z,{grid:e.grid,width:v,height:g,children:e.choiceAnswer.map(t=>s.jsx("div",{children:s.jsx(n.Z,{id:t.answer_id,status:"mix"===e.type?y.c_id===t.answer_id:k===t.answer_id,label:t.answer_value,onClick:()=>S({s_id:e.id,c_id:t.answer_id,type:e.type})})},t.answer_id+t.answer_value))}),"mix"===e.type&&e.subjectQuestion&&(0,s.jsxs)(s.Fragment,{children:[s.jsx(a.Z,{question:e.subjectQuestion,useResetButton:!0,mixData:y,handleMixData:e=>E(e)}),s.jsx(p.default,{label:"다음 단계",status:!0,onClick:()=>$()})]})]},e.id+e.choiceQuestion))})}},2171:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var s=r(2295),i=r(1223),o=r.n(i),n=r(3729);function a({grid:e,width:t,height:r,children:i}){let a=(0,n.useRef)(null),[l,c]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{a.current?.scrollHeight&&r&&(a.current.scrollHeight>6*r/11?c(!0):c(!1))},[a,r]),(0,s.jsxs)(s.Fragment,{children:[s.jsx("section",{ref:a,className:`border-b-slate-200 relative max-h-calc overflow-auto scroll-m-0 mt-[5.4rem] px-[6rem] pb-[2rem] gap-[2rem] grid ${1===e?"grid-cols-1":"grid-cols-2"}`,children:i}),t&&t<521&&l&&s.jsx("div",{className:"relative left-[88vw] bottom-[8rem] w-[4.2rem] h-[4.2rem] animate-bounce",children:s.jsx(o(),{src:"/scroll.webp",alt:"스크롤하세요",width:42,height:42})})]})}},2795:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var s=r(2295);function i({label:e}){return s.jsx("div",{className:"text-center text-[2.8rem] font-bold mt-[3.4rem]",children:function(e){let t=e?.split("\n");return t?.map((e,t)=>s.jsxs("div",{children:[e,s.jsx("br",{})]},t+e))}(e)})}},6305:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var s=r(2295);function i({number:e=1}){return(0,s.jsxs)("div",{className:"w-full text-[#F25D24] text-center text-[3.6rem] pt-[9.5rem] font-bold",children:["Step ",e]})}},5617:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var s=r(2295),i=r(1223),o=r.n(i);function n({question:e,value:t="홍길동",useResetButton:r=!0,mixData:i,handleMixData:n}){return(0,s.jsxs)("section",{className:"mx-[3.7rem] mt-[6rem] relative",children:[s.jsx("div",{className:"text-[2.4rem]",children:e}),s.jsx("input",{className:"w-full border-b-[0.1rem] border-black h-[6rem] mt-[1.5rem] text-[3.5rem]",placeholder:"아이의 별명(또는 이름)을 입력해주세요."===e?"예 : 희망이, 소울이, 황금이":"",type:"text",value:i.sv,onChange:e=>{n(e.target.value)}}),(0,s.jsxs)("div",{className:"mt-[1.8rem] text-[1.8rem]",children:["* 한글 최대 6자까지 입력할 수 있어요.",s.jsx("br",{}),"* 작성하신 이름은 서약서 생성에 사용됩니다."]}),r&&s.jsx("div",{className:"absolute top-[7rem] right-[1rem]",onClick:()=>n(""),children:s.jsx(o(),{src:"/reset.webp",alt:"초기화",width:20,height:20})})]})}},1247:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var s=r(3729);let i=()=>{let[e,t]=(0,s.useState)({width:null,height:null});return(0,s.useEffect)(()=>{},[!1]),e}},218:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var s=r(5036);let i=(0,r(6843).createProxy)(String.raw`/Users/ochihyo/workspace/oooo-production/src/components/FormLayout.tsx`),{__esModule:o,$$typeof:n}=i,a=i.default;var l=r(7803);async function c(){let e=await (0,l.r)(1);return s.jsx("div",{className:"overflow-x-hidden w-full relative h-[100dvh] bg-[url('/bg.webp')] bg-no-repeat bg-contain",children:s.jsx(a,{survey:e.survey})})}},694:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n,metadata:()=>o});var s=r(5036),i=r(5995);let o={};function n({children:e}){return s.jsx("div",{className:"relative h-[99dvh]",children:(0,s.jsxs)("div",{children:[s.jsx(i.ZP,{title:""}),e]})})}},7803:(e,t,r)=>{"use strict";r.d(t,{r:()=>n});let s=require("fs/promises");var i=r(1017),o=r.n(i);let n=(0,r(2).cache)(async e=>{let t=o().join(process.cwd(),"/src/data/",`data${e}.json`);return(0,s.readFile)(t,"utf8").then(e=>JSON.parse(e))})}};var t=require("../../../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[638,356,803,604,534],()=>r(704));module.exports=s})();